2005-12-28 22:12  wiz@danbala.tuwien.ac.at

	* configure.ac: bump version to 0.7
	* NEWS: add release date

2005-12-27 23:24  wiz@danbala.tuwien.ac.at

	* docs/ckmame.man: regen.

2005-12-27 23:24  wiz@danbala.tuwien.ac.at

	* docs/ckmame.mdoc: Add FILES section describing garbage and needed
	  dirs.

2005-12-27 12:41  wiz@danbala.tuwien.ac.at

	* regress/dbdump.c: Leave main with return, for the few (Irix)
	  compilers who do not really grok exit.

2005-12-27 12:11  wiz@danbala.tuwien.ac.at

	* INSTALL: Remove sentence about -c99 for Irix; not necessary any
	  longer.

2005-12-27 12:11  wiz@danbala.tuwien.ac.at

	* src/uint32.h: Prefer inttypes.h to stdint.h; better for Irix
	  without -c99.

2005-12-27 11:43  dillo@danbala.tuwien.ac.at

	* configure.ac, src/db-db.h: Search for db{2,3,4} with the names
	  used by at least pkgsrc.

2005-12-27 10:43  dillo@danbala.tuwien.ac.at

	* src/pri.h: Prefer long over int if both have the same size as
	  off_t.  Fixes warnings on GNU/Linux and Solaris.

2005-12-27 10:41  dillo@danbala.tuwien.ac.at

	* regress/runtest: Set LC_ALL to C, needed for GNU sort.  Don't use
	  diff -q, Solaris diff doesn't support it, and it's not needed.

2005-12-26 15:34  dillo@danbala.tuwien.ac.at

	* configure.ac, src/Makefile.am, src/diagnostics.c, src/fix.c,
	  src/pri.h: Fix printing of off_t.  It's not the same size as long
	  long everywhere.

2005-12-26 15:33  dillo@danbala.tuwien.ac.at

	* src/: archive.c, archive.h: (archive_file_find_offset) since the
	  return value is used as off_t,       return an off_t.

2005-12-25 10:51  wiz@danbala.tuwien.ac.at

	* INSTALL: Note that one needs -c99 in the compiler flags on Irix.

2005-12-24 15:31  wiz@danbala.tuwien.ac.at

	* src/r_util.c: No lvalue casts, found by Irix cc, fixed by dillo.

2005-12-24 12:37  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am: add missing disk image to distfiles

2005-12-24 12:31  dillo@danbala.tuwien.ac.at

	* src/parse-xml.c: Fix prototype of dummy function when libxml2 is
	  missing.

2005-12-24 12:28  dillo@danbala.tuwien.ac.at

	* regress/dbdump.c, src/parray_sort_real.c, src/parse-cm.c,
	  src/parse.c: Hopefully fix IRIX cc warnings.

2005-12-24 12:02  dillo@danbala.tuwien.ac.at

	* NEWS: add one

2005-12-23 14:40  wiz@danbala.tuwien.ac.at

	* regress/dbdump.c: Remove unused -v option and related variable.
	  Irix cc noted that the variable was not used.

2005-12-23 14:38  wiz@danbala.tuwien.ac.at

	* src/dumpgame.c: Remove variable that is only set, but not used.
	  Found by Irix cc.

2005-12-23 14:36  wiz@danbala.tuwien.ac.at

	* src/util2.c: Do not use uninitialized variable. Found by Irix cc.

2005-12-23 10:01  wiz@danbala.tuwien.ac.at

	* docs/ckmame.man: regen.

2005-12-23 10:01  wiz@danbala.tuwien.ac.at

	* docs/ckmame.mdoc: Bump date.

2005-12-23 10:00  wiz@danbala.tuwien.ac.at

	* docs/ckmame.mdoc: Sort sections.

2005-12-22 23:37  dillo@danbala.tuwien.ac.at

	* NEWS: Update for 0.7.

2005-12-22 23:22  dillo@danbala.tuwien.ac.at

	* ChangeLog: update (via cvs2cl)

2005-12-22 23:12  dillo@danbala.tuwien.ac.at

	* src/r_list.c, src/util.c, src/w_list.c, src/w_prog.c,
	  src/xmalloc.c: copyright maintenance

2005-12-22 23:03  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am,
	  regress/rom-from-superfluous-some.test: Add test for removing
	  files from superfluous archives, leaving some files.

2005-12-22 22:59  dillo@danbala.tuwien.ac.at

	* src/array.h, src/parray.h: Document why we do not specify
	  function arguments in *array prototypes.

2005-12-22 22:55  dillo@danbala.tuwien.ac.at

	* docs/ckmame.mdoc: Describe "broken" and "checksum mismatch"
	  states; remove old BUGS section; uppercase ROM.

2005-12-22 22:37  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/disk-swap.test,
	  regress/disk-to-needed.test, src/check_disks.c,
	  src/delete_list.c, src/fix.c, src/funcs.h, src/util2.c: - move
	  wrong disks needed elsewhere to needed - search needed for disks

2005-12-22 21:10  dillo@danbala.tuwien.ac.at

	* Makefile.am, configure.ac, docs/Makefile.am, docs/ckmame.man,
	  docs/ckmame.mdoc, docs/dumpgame.man, docs/dumpgame.mdoc,
	  docs/mkmamedb.man, docs/mkmamedb.mdoc: Move contents of man/ to
	  docs/.

2005-12-22 21:10  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am: Add missing zip files for sample tests (and
	  another one).

2005-12-22 21:02  dillo@danbala.tuwien.ac.at

	* regress/mamedb.txt, src/hash_from_string.c: accept 0x
	  prefix for hashes in database input file

2005-12-22 21:01  dillo@danbala.tuwien.ac.at

	* src/delete_list.c: avoid /* in comment add prototype for static
	  function

2005-12-22 20:54  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/delete-used-superfluous.test,
	  src/Makefile.am, src/delete_list.c, src/parray.h,
	  src/parray_index.c, src/parray_index_sorted.c: Don't warn about
	  superfluous files that have been used and deleted.

2005-12-08 22:19  dillo@danbala.tuwien.ac.at

	* mkmamedb-xmame.sh: Fix version comparison for releases 0.100 and
	  above (since we use string comparison).

2005-11-13 22:28  wiz@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/rom-from-extra-child.test,
	  src/Makefile.am, src/archive.c, src/archive.h, src/array.h,
	  src/array_truncate.c, src/fix.c, src/tree.c: Fix case where rom
	  is added to parent set and wasn't found in child set in the same
	  run by reloading archive after fix. Add test case.

2005-10-07 19:11  wiz@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/sample-superfluous.test,
	  regress/samptest3-garbage.zip, regress/samptest3.zip: Add test
	  for superfluous samples.

2005-10-07 19:05  wiz@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/sample-miss.test: Add test for
	  missing sample.

2005-10-07 19:02  wiz@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/disk-mis.test,
	  regress/disk-miss.test, regress/disk-nogoodmis.test,
	  regress/disk-nogoodmiss.test: Rename *mis.* to *miss.* (name
	  cleanup).

2005-10-07 18:54  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, mamedb.txt, mkmamedb-ok.dump,
	  sample-ok.test, sample-parent-ok.test, samptest.zip,
	  samptest2.zip: Add two sample tests with result ok (non missing;
	  some in parent).

2005-10-06 01:00  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/rom-broken-replace.test,
	  regress/rom-broken.test, src/archive.c, src/fix.c: Test if broken
	  file in archive gets replaced by better copy from romset.
	  Improve error message for CRC errors.  Fix code so that test
	  actually works.

2005-10-06 00:45  dillo@danbala.tuwien.ac.at

	* regress/: 2-48-broken.zip, Makefile.am, rom-broken.test, runtest:
	  Add test with broken zip file (CRC error).  Quiet zipcmp (no CRC
	  error warnings).

2005-10-06 00:38  dillo@danbala.tuwien.ac.at

	* regress/: Makefile.am, rom-from-extra-partial.test: Add test
	  removing partial contents from extra dir.

2005-10-06 00:33  dillo@danbala.tuwien.ac.at

	* regress/: Makefile.am, disk-from-extra-remove.test,
	  disk-from-extra.test: Rename test to sync with rom-from-extra*.

2005-10-06 00:26  dillo@danbala.tuwien.ac.at

	* regress/: Makefile.am, from-needed.test, from-needed2.test,
	  from-romset.test, from-romset2.test,
	  from-superfluous-dryrun.test, from-superfluous.test,
	  rom-from-extra-keep.test, rom-from-extra-remove.test,
	  rom-from-needed.test, rom-from-needed2.test,
	  rom-from-romset.test, rom-from-romset2.test,
	  rom-from-superfluous-dryrun.test, rom-from-superfluous.test,
	  search-keep.test, search-remove.test: Better names for some
	  tests.

2005-10-06 00:21  dillo@danbala.tuwien.ac.at

	* regress/: Makefile.am, disk-from-extra.test: Add a test case.

2005-10-06 00:16  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am: fix distcheck: - built libraries are not in
	  ${srcdir} - distribute all needed files

2005-10-06 00:08  dillo@danbala.tuwien.ac.at

	* regress/108-2.chd, regress/Makefile.am,
	  regress/disk-from-superfluous.test,
	  regress/disk-superfluous.test, regress/disk-wrong.test,
	  regress/mamedb.txt, regress/mkmamedb-ok.dump, src/fix.c,
	  src/funcs.h, src/util2.c: - fix unknown/unneeded images - adapt
	  test cases to image diagnostics - add case for not-needed image

2005-10-05 23:28  dillo@danbala.tuwien.ac.at

	* src/diagnostics.c: fix segfault when checking samples

2005-10-05 23:21  dillo@danbala.tuwien.ac.at

	* regress/disk-wrong.test, src/check_archive.c,
	  src/check_disks.c, src/diagnostics.c, src/find.c, src/find.h,
	  src/fix.c, src/funcs.h, src/hashes.h, src/tree.c, src/types.h:
	  report status of disk images

2005-10-03 19:39  dillo@danbala.tuwien.ac.at

	* src/types.h: remove obsolete XXX comment

2005-10-02 14:35  dillo@danbala.tuwien.ac.at

	* src/fix.c: fix typo in function name

2005-10-02 13:28  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/disk-superfluous.test,
	  src/check_archive.c, src/check_disks.c, src/check_files.c,
	  src/disk.h, src/disk_get_info.c, src/find.c, src/find.h,
	  src/fix.c, src/funcs.h, src/globals.h, src/util2.c: implement
	  searching for disks in superfluous and extra dirs

2005-09-29 14:27  dillo@danbala.tuwien.ac.at

	* regress/from-needed.test, regress/from-needed2.test,
	  regress/from-superfluous.test, regress/search-remove.test,
	  regress/tochildfix.test, src/delete_list.c: (delete_list_execute)
	  print message about deleting files/archives

2005-09-28 10:48  wiz@danbala.tuwien.ac.at

	* configure.ac, src/Makefile.am, src/db-gdbm.c,
	  src/db-gdbm.h: Kill gdbm support.

2005-09-28 10:48  wiz@danbala.tuwien.ac.at

	* README: Do not mention gdbm, update links.

2005-09-28 10:36  wiz@danbala.tuwien.ac.at

	* regress/mkmamedb-ok.dump: Update for new 2-44.

2005-09-28 10:35  wiz@danbala.tuwien.ac.at

	* regress/from-superfluous-dryrun.test, src/ckmame.c: Do not warn
	  about extra files if not checking all roms or --superfluous
	  explicitly specified.

2005-09-27 23:33  dillo@danbala.tuwien.ac.at

	* INSTALL, NEWS, depcomp, install-sh, missing, mkinstalldirs,
	  regress/1-4-garbage.zip, regress/2-84.zip, regress/Makefile.am,
	  regress/baddump.test, regress/dbdump.c, regress/deadbeef.zip,
	  regress/deadclonedbeef.zip, regress/deadfish.zip,
	  regress/deadfish4.zip, regress/deadpork.zip,
	  regress/disk-mis.test, regress/disk-noext.test,
	  regress/disk-nogood.test, regress/disk-nogoodmis.test,
	  regress/disk-ok.test, regress/disk-wrong.test,
	  regress/double.test, regress/dumpgame-unknown.test,
	  regress/from-needed.test, regress/from-needed2.test,
	  regress/from-romset.test, regress/from-romset2.test,
	  regress/from-superfluous-dryrun.test,
	  regress/from-superfluous.test, regress/garbage.test,
	  regress/garbage.zip, regress/hasherr-c.test,
	  regress/hasherr-p.test, regress/hasherr-pc.test,
	  regress/hasherr.test, regress/hasherr2.test,
	  regress/identical-once.test, regress/inchild.test,
	  regress/inparent.test, regress/mamedb-lost-parent-ok.txt,
	  regress/mamedb-lost-parent.txt, regress/mamedb.txt,
	  regress/mid.test, regress/misnamed-dryrun.test,
	  regress/misnamed.test, regress/mkmamedb-lost-parent.dump,
	  regress/mkmamedb-lost-parent.test, regress/mkmamedb-ok.dump,
	  regress/mkmamedb-ok.test, regress/multi.test,
	  regress/needed-error.test, regress/needed.test,
	  regress/needed2.test, regress/needed3.test,
	  regress/nogood-miss.test, regress/nogood.test,
	  regress/nonexist.test, regress/norom.test, regress/ok.test,
	  regress/punknown.test, regress/punused.test, regress/runtest,
	  regress/search-keep.test, regress/search-remove.test,
	  regress/skipbad.test, regress/superfluous.test,
	  regress/swap.test, regress/tochildfix.test, regress/wrong.test,
	  src/Makefile.am, src/archive.c, src/archive.h,
	  src/check_archive.c, src/check_disks.c, src/check_files.c,
	  src/ckmame.c, src/dbh.h, src/delete_list.c, src/delete_list.h,
	  src/diagnostics.c, src/dir.c, src/dir.h, src/disk.c, src/disk.h,
	  src/disk_get_info.c, src/dumpgame.c, src/error.h,
	  src/file_location.c, src/file_location.h,
	  src/file_location_ext.c, src/file_location_finalize.c,
	  src/file_location_make_key.c, src/file_status.c,
	  src/file_status.h, src/find.c, src/find.h, src/fix.c,
	  src/funcs.h, src/globals.h, src/hash_from_string.c, src/hashes.c,
	  src/match.c, src/match.h, src/match_disk.c, src/match_disk.h,
	  src/parray.h, src/parray_index_sorted.c, src/parray_pop.c,
	  src/parray_set_length.c, src/parse-cm.c, src/parse-xml.c,
	  src/parse.c, src/parse.h, src/r_file_by_hash.c, src/r_game.c,
	  src/rom.c, src/rom.h, src/romcmp.c, src/superfluous.c,
	  src/tree.c, src/tree.h, src/types.h, src/util.c, src/util.h,
	  src/util2.c, src/w_file_by_hash_parray.c, src/w_game.c,
	  src/warn.h: rewrite to get rid of marry.

2005-09-23 01:27  dillo@danbala.tuwien.ac.at

	* regress/2-84.zip: Add another test zip file.

2005-09-23 01:26  dillo@danbala.tuwien.ac.at

	* regress/swap.test: Add swap rename test.

2005-09-23 01:25  dillo@danbala.tuwien.ac.at

	* regress/mamedb.txt: Add 2-44.

2005-09-23 00:13  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/mamedb.txt,
	  regress/mkmamedb-ok.dump, src/fix.c, src/funcs.h, src/util2.c:
	  Handle case where two roms swap names.

2005-09-22 23:29  wiz@danbala.tuwien.ac.at

	* src/parray_index_sorted.c: Do not iterate over empty list.

2005-09-22 23:27  dillo@danbala.tuwien.ac.at

	* regress/from-superfluous-dryrun.test, src/ckmame.c: restore
	  printing of superfluous files

2005-09-22 23:27  dillo@danbala.tuwien.ac.at

	* src/superfluous.c: handle unknown/no extensions of file names > 4
	  chars correctly

2005-09-22 23:26  dillo@danbala.tuwien.ac.at

	* src/fix.c: (fix_game) only rollback delete list if FIX_DO

2005-09-22 22:56  wiz@danbala.tuwien.ac.at

	* INSTALL: Update from automake-1.9.6.

2005-09-22 22:53  dillo@danbala.tuwien.ac.at

	* src/check_archive.c, src/check_files.c, src/diagnostics.c,
	  src/fix.c, src/rom.h, src/types.h, src/warn.h: ignore broken
	  files in zip archives

2005-09-22 21:38  dillo@danbala.tuwien.ac.at

	* src/check_files.c: only accept files with correct name for
	  roms without hashes

2005-09-18 17:35  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, from-superfluous-dryrun.test,
	  misnamed-dryrun.test: Add two dryrun tests.

2005-09-18 17:33  wiz@danbala.tuwien.ac.at

	* depcomp, install-sh, missing, mkinstalldirs: Update to
	  automake-1.9.6.

2005-08-07 00:14  wiz@danbala.tuwien.ac.at

	* regress/: dumpgame-unknown.test, mkmamedb-lost-parent.test,
	  needed-error.test, nonexist.test, runtest: Rename "error" command
	  to "stderr".

2005-08-07 00:11  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, mkmamedb-lost-parent.dump,
	  mkmamedb-lost-parent.test: Add mkmamedb test case for
	  inconsistent input database (parent missing).

2005-08-07 00:11  wiz@danbala.tuwien.ac.at

	* regress/dbdump.c: Fix off-by-2*+1 in dbdump.c.

2005-08-07 00:04  wiz@danbala.tuwien.ac.at

	* src/parray_index_sorted.c: fix off by one: hi is last element,
	  not one past last element.

2005-08-07 00:03  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, dumpgame-unknown.test: Add test for
	  dumpgame: unknown game on command line.

2005-08-06 23:51  wiz@danbala.tuwien.ac.at

	* regress/: mamedb-lost-parent-ok.txt, mamedb-lost-parent.txt: Add
	  two files for next mkmamedb test.

2005-08-06 23:41  wiz@danbala.tuwien.ac.at

	* src/dumpgame.c: Remove superfluous whitespace in output.

2005-08-06 23:41  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, dbdump.c, mkmamedb-ok.dump,
	  mkmamedb-ok.test, runtest: Add first test for mkmamedb, and
	  infrastructure for it.

2005-08-06 22:30  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, search-keep.test, search-remove.test: Add
	  two tests for --search.

2005-08-06 22:30  wiz@danbala.tuwien.ac.at

	* src/util2.c: Only add zip files to extra file map.

2005-08-06 22:29  wiz@danbala.tuwien.ac.at

	* src/ckmame.c: Add missing header include.

2005-08-06 22:18  wiz@danbala.tuwien.ac.at

	* src/: ckmame.c, funcs.h, globals.h: Rename some functions and
	  variables.

2005-08-06 22:07  wiz@danbala.tuwien.ac.at

	* src/: superfluous.c, util2.c: Move print_extra_files from util2.c
	  to superfluous.c.  Part of a function rename in progress.

2005-08-06 22:00  wiz@danbala.tuwien.ac.at

	* src/: Makefile.am, ckmame.c, dir.c, dir.h, funcs.h, globals.h,
	  parray.h, parray_pop.c, superfluous.c, util2.c: Add support for
	  getting files from separate dirs, e.g. for update sets.

2005-08-06 21:54  wiz@danbala.tuwien.ac.at

	* regress/: baddump.test, disk-mis.test, disk-noext.test,
	  disk-nogood.test, disk-nogoodmis.test, disk-ok.test,
	  disk-wrong.test, double.test, from-needed.test,
	  from-needed2.test, from-romset.test, from-romset2.test,
	  from-superfluous.test, garbage.test, hasherr-c.test,
	  hasherr-p.test, hasherr-pc.test, hasherr.test, hasherr2.test,
	  inchild.test, inparent.test, mid.test, misnamed.test, multi.test,
	  needed-error.test, needed.test, needed2.test, needed3.test,
	  nogood-miss.test, nogood.test, ok.test, punknown.test,
	  punused.test, runtest, skipbad.test, superfluous.test,
	  tochildfix.test, wrong.test: Simplify runtest: only file,
	  file-new, file-del instead of rom*, needed*, garbage, disk.
	  Automatically use zipcmp for zip file comparisons and diff for
	  the rest.  Add program command to set executable name.  Adapt
	  tests.

2005-08-06 21:12  wiz@danbala.tuwien.ac.at

	* regress/runtest: sort command descriptions

2005-08-06 19:48  wiz@danbala.tuwien.ac.at

	* regress/from-superfluous.test, src/Makefile.am,
	  src/check_files.c, src/file_location.h, src/file_location_ext.c,
	  src/find.c, src/fix.c, src/funcs.h, src/types.h, src/util2.c: Add
	  file_location_ext for file locations with a where_t to
	  differentiate between needed, superfluous and extra files.
	  Remove used superfluous files.  Adapt test.

2005-08-06 19:00  wiz@danbala.tuwien.ac.at

	* src/: Makefile.am, check_files.c, dbh.h, delete_list.c,
	  delete_list.h, dumpgame.c, file_by_hash.c, file_by_hash.h,
	  file_by_hash_finalize.c, file_by_hash_make_key.c,
	  file_location.c, file_location.h, file_location_finalize.c,
	  file_location_make_key.c, find.c, fix.c, parse.c,
	  r_file_by_hash.c, util2.c, w_file_by_hash_parray.c: Rename
	  file_by_hash_* to file_location_*

2005-08-06 18:59  wiz@danbala.tuwien.ac.at

	* src/types.h: Add ROM_SUPERFLUOUS where_t.

2005-08-02 20:25  dillo@danbala.tuwien.ac.at

	* regress/Makefile.am, regress/from-superfluous.test,
	  src/util2.c: add superfluous zips to extra_file_map add
	  appropriate regression test

2005-08-02 00:39  wiz@danbala.tuwien.ac.at

	* src/fix.c: Use ERRZIPFILE where appropriate. Remove unused
	  variable.

2005-08-02 00:39  wiz@danbala.tuwien.ac.at

	* src/dumpgame.c: Use myerror.

2005-08-02 00:38  wiz@danbala.tuwien.ac.at

	* src/disk_get_info.c: Use seterrinfo, myerror.

2005-08-02 00:38  wiz@danbala.tuwien.ac.at

	* src/archive.c: Use seterrinfo, myerror, my_zip_open.

2005-08-02 00:02  wiz@danbala.tuwien.ac.at

	* src/archive.c: Fix myerror %s argument.

2005-08-02 00:00  wiz@danbala.tuwien.ac.at

	* src/archive.c: Use ERRZIP.

2005-08-02 00:00  wiz@danbala.tuwien.ac.at

	* src/util2.c: Use ERRSTR. Fix argument order in another myerror
	  call.

2005-08-02 00:00  wiz@danbala.tuwien.ac.at

	* src/parse.c: Use ERRDB. Fix typo.

2005-08-01 23:59  wiz@danbala.tuwien.ac.at

	* src/fix.c: Call seterrinfo. Use my_zip_open.

2005-08-01 23:58  wiz@danbala.tuwien.ac.at

	* src/dumpgame.c: Add quoting.

2005-08-01 23:58  wiz@danbala.tuwien.ac.at

	* src/delete_list.c: Factor out duplicate function. Fix seterrinfo
	  argument order.

2005-08-01 22:53  wiz@danbala.tuwien.ac.at

	* src/: diagnostics.c, fix.c: Print off_t with %lld.

2005-08-01 22:53  wiz@danbala.tuwien.ac.at

	* src/error.h: Fix typo.

2005-08-01 04:08  dillo@danbala.tuwien.ac.at

	* src/check_files.c: Detect files with wrong name, correct CRC and
	  wrong checksums as QU_HASHERR.

2005-08-01 03:56  wiz@danbala.tuwien.ac.at

	* regress/: deadfish4.zip, from-needed2.test, hasherr2.test,
	  needed2.test, needed3.test: Add some more files.

2005-08-01 03:56  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, choko.zip, chokoa.zip, deadbeef.zip,
	  deadclonedbeef.zip, deadfish.zip, deadpork.zip, from-needed.test,
	  from-romset.test, from-romset2.test, hasherr-c.test,
	  hasherr-p.test, hasherr-pc.test, hasherr.test, mamedb.txt,
	  runtest, skipbad.test, tochildfix.test, wrong.test: Add dead
	  beef.  Adapt tests to use deadbeef instead of choko, and create
	  more tests.  runtest: rename romnew/romdel to rom-new/rom-del.

2005-07-31 23:14  dillo@danbala.tuwien.ac.at

	* regress/: Makefile.am, from-romset.test, needed-error.test: two
	  new tests

2005-07-31 23:14  dillo@danbala.tuwien.ac.at

	* regress/runtest: add support for mkdir (used to produce zip_close
	  errors)

2005-07-31 23:13  dillo@danbala.tuwien.ac.at

	* src/: Makefile.am, check_files.c, ckmame.c, delete_list.c,
	  delete_list.h, file_by_hash_make_key.c, fix.c, funcs.h,
	  globals.h, match.c, parray.h, parray_set_length.c, types.h,
	  util2.c: delete files from needed after copying them to game.
	  avoid data loss in case of errors.

2005-07-31 22:10  wiz@danbala.tuwien.ac.at

	* src/: archive.c, check_archive.c, check_disks.c, check_files.c,
	  diagnostics.c, fix.c, hash_from_string.c, parse.c, rom.h,
	  types.h: add support for QU_HASHERR for ROMs

2005-07-31 19:40  wiz@danbala.tuwien.ac.at

	* regress/: baddump.test, chokoa.zip, disk-mis.test,
	  disk-noext.test, disk-nogood.test, disk-nogoodmis.test,
	  disk-ok.test, disk-wrong.test, double.test, from-needed.test,
	  garbage.test, inchild.test, inparent.test, mid.test,
	  misnamed.test, multi.test, needed.test, nogood-miss.test,
	  nogood.test, nonexist.test, norom.test, ok.test, punknown.test,
	  punused.test, runtest, superfluous.test, tochildfix.test,
	  wrong.test: print test description in verbose mode

2005-07-31 19:39  wiz@danbala.tuwien.ac.at

	* regress/: hasherr-c.test, hasherr-p.test, hasherr-pc.test,
	  hasherr.test, Makefile.am: add tests for hash mismatches

2005-07-31 19:39  wiz@danbala.tuwien.ac.at

	* regress/mamedb.txt: sort games alphabetically add games for hash
	  mismatch testing

2005-07-31 16:27  wiz@danbala.tuwien.ac.at

	* regress/choko.zip: Add choko.zip with the broken file with
	  correct CRC.

2005-07-31 16:02  wiz@danbala.tuwien.ac.at

	* NEWS, regress/Makefile.am, regress/baddump.test,
	  regress/disk-mis.test, regress/disk-noext.test,
	  regress/disk-nogood.test, regress/disk-nogoodmis.test,
	  regress/disk-ok.test, regress/disk-wrong.test,
	  regress/double.test, regress/from-needed.test,
	  regress/garbage.test, regress/inchild.test,
	  regress/inparent.test, regress/mid.test, regress/misnamed.test,
	  regress/multi.test, regress/needed.test,
	  regress/nogood-miss.test, regress/nogood.test,
	  regress/nonexist.test, regress/norom.test, regress/ok.test,
	  regress/punknown.test, regress/punused.test,
	  regress/superfluous.test, regress/tochildfix.test,
	  regress/unused.test, regress/wrong.test, src/ckmame.c,
	  src/types.h: Deprecate -u/-U (keep unused). Adapt tests.

2005-07-31 16:00  wiz@danbala.tuwien.ac.at

	* regress/: Makefile.am, inparent.test, punused.test, tochild.test,
	  wrong.test, wrong2.test: Adapt tests to wanted behaviour, remove
	  obsolete/duplicate tests.

2005-07-31 15:44  wiz@danbala.tuwien.ac.at

	* regress/double.test, regress/garbage.test, regress/mid.test,
	  regress/multi.test, regress/needed.test, regress/punknown.test,
	  regress/punused.test, regress/tochildfix.test,
	  regress/unused.test, regress/wrong.test, regress/wrong2.test,
	  src/fix.c: Add quoting.

2005-07-31 15:44  wiz@danbala.tuwien.ac.at

	* regress/: baddump.test, nogood.test: Adapt to different
	  baddump/nodump diagnostics.

2005-07-31 13:38  dillo@danbala.tuwien.ac.at

	* regress/: Makefile.am, from-needed.test: add test for getting
	  file from pre-existing needed

2005-07-31 13:38  dillo@danbala.tuwien.ac.at

	* regress/: needed.test, runtest: improve needed support: allow for
	  pre-existing, created, and deleted files

2005-07-31 13:37  dillo@danbala.tuwien.ac.at

	* src/: funcs.h, util2.c: fill in needed map

2005-07-31 13:36  dillo@danbala.tuwien.ac.at

	* src/: Makefile.am, dir.c, dir.h, superfluous.c: split dir reading
	  into own file

2005-07-31 11:34  wiz@danbala.tuwien.ac.at

	* regress/multi.test: Adapt strings.

2005-07-31 11:32  wiz@danbala.tuwien.ac.at

	* regress/: inchild.test, inparent.test: Adapt some "should be"
	  strings.

2005-07-31 11:32  wiz@danbala.tuwien.ac.at

	* src/diagnostics.c: "not used", not "unused", in file diagnostics.

2005-07-31 11:27  dillo@danbala.tuwien.ac.at

	* regress/: 1-4-garbage.zip, Makefile.am, garbage.test,
	  garbage.zip, multi.test, needed.test, tochildfix.test: partially
	  adapt tests to rewrite

2005-07-31 11:27  dillo@danbala.tuwien.ac.at

	* regress/runtest: add support for needed files add SETUP_ONLY:
	  create test environment but don't run ckmame

2005-07-31 11:21  dillo@danbala.tuwien.ac.at

	* src/: archive.c, archive.h, check_archive.c, ckmame.c,
	  diagnostics.c, find.c, fix.c, tree.c, util.h, util2.c: fix
	  various problems uncovered by regression tests

2005-07-31 10:56  wiz@danbala.tuwien.ac.at

	* src/superfluous.c: Check snprintf return value.

2005-07-31 06:28  dillo@danbala.tuwien.ac.at

	* regress/mamedb.txt: It's status in XML output, but it's flags in
	  CM format.

2005-07-31 01:24  wiz@danbala.tuwien.ac.at

	* src/superfluous.c: Fix printing of superfluous files. Add missing
	  argument to myerror call. Prefer bounded string operations to
	  unbounded ones.

2005-07-30 17:18  wiz@danbala.tuwien.ac.at

	* regress/misnamed.test: Adapt output for renames.

2005-07-30 17:11  wiz@danbala.tuwien.ac.at

	* regress/: double.test, mid.test: Adapt output for extracting
	  parts of files.

2005-07-30 17:05  wiz@danbala.tuwien.ac.at

	* regress/mamedb.txt: Do not use (obsoleted) xored crc for bad
	  dumps, use status baddump.

2005-07-30 17:03  wiz@danbala.tuwien.ac.at

	* regress/: garbage.test, misnamed.test, multi.test, punknown.test,
	  punused.test, tochildfix.test, unused.test, wrong.test,
	  wrong2.test: Re-order lines: reports for files are now after
	  reports for games (and I think it is ok this way).

2005-07-30 16:55  wiz@danbala.tuwien.ac.at

	* regress/mamedb.txt: Do not use deprecated CRC 00000000.

2005-07-30 14:24  dillo@danbala.tuwien.ac.at

	* src/: Makefile.am, archive.c, archive.h, check_archive.c,
	  check_files.c, ckmame.c, dumpgame.c, file_status.h, find.c,
	  find.h, fix.c, funcs.h, globals.h, match.h, tree.c, tree.h,
	  util.c, util.h, util2.c: compiles, links, and regressions don't
	  trigger a core dump

2005-07-27 12:55  dillo@danbala.tuwien.ac.at

	* src/: file_status.c, file_status.h: information about the status
	  of a file in an archive.  forgot to add this yesterday.

2005-07-27 02:05  dillo@danbala.tuwien.ac.at

	* src/: Makefile.am, archive.c, check_disks.c, check_files.c,
	  check_roms.c, ckmame.c, diagnostics.c, disk.c, disk.h,
	  disk_get_info.c, dumpgame.c, file_by_hash.c,
	  file_by_hash_finalize.c, fix.c, funcs.h, globals.h, match.c,
	  match.h, match_disk.c, match_disk.h, parse-cm.c, parse-xml.c,
	  parse.c, parse.h, r_file_by_hash.c, r_game.c, rom.c, rom.h,
	  romcmp.c, superfluous.c, tree.c, tree.h, types.h,
	  w_file_by_hash_parray.c, w_game.c, warn.h: rename flags to status
	  adapt diagnostics and fix begin adapting tree_traverse replace
	  handle_extra_files with find_extra_files (print_extra_files
	  missing) merge all fix options in one variable

2005-07-21 15:21  wiz@danbala.tuwien.ac.at

	* regress/runtest: grammar fix.

2005-07-20 15:35  wiz@danbala.tuwien.ac.at

	* NEWS: Add dates for previous releases.

2005-07-20 02:26  dillo@danbala.tuwien.ac.at

	* NEWS, src/check_roms.c, src/hashes.c, src/parse.c,
	  src/rom.h: drop support for inferring flags from CRC handle
	  samples and bad dumps

2005-07-20 00:46  dillo@danbala.tuwien.ac.at

	* src/: Makefile.am, archive.c, archive.h, check_roms.c,
	  file_by_hash.h, funcs.h, globals.h, match.h, rom.h, tree.h,
	  types.h, util.h: finished check_roms except for bad/no dumps and
	  samples

2005-07-17  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* regress/runtest: fix typo.

2005-07-13  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* src/parse.c (disk_end, rom_end): if merge is same as name, don't
	save it.

	* src/: refactoring

2005-07-06  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* src/types.h: move read_infos_from_chd prototype to...
	* src/chd-supp.h: new file.

	* src/types.h: move warning related defines to...
	* src/warn.h: new file.

2005-07-05  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* src/malloc.c: rename to xmalloc.c

	* src/chd-supp.c (get_hashes), src/zip-supp.c (get_hashes): use
	hashes_update.
	* src/hashes_update.c (hashes_update, hashes_update_final,
	hashes_update_new): new function.

	* src/hashes.h: move declarations and type definitions related to
	struct hashes here.  rename GOT_ to HASHES_TYPE_.
	* src/hashes.c (hashes_cmp): use symbolic constants as return
	values.

	* configure.ac, src/Makefile.am, src/dbl.h: don't symlink database
	backends, use directly.

	* move sources to src subdirectory, move man pages to man
	subdirectory.
	
2005-07-01  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ckmame.c (main), db-db.c (ddb_open), db-gdbm.c (ddb_open),
	dbl.c, dbl.h, dumpgame.c (main), mkmamedb.c (main): remove
	DDB_EXT, DDB_FILEEXT, and ddb_named; add DDB_DEFAULT_DB_NAME.

	* mkmamedb-xmame.sh: store program name and version in database.
	* mkmamedb.c (main): new options --prog-name, --prog-version.
	* parse.c (parse): add support for command line supplied prog
	info.

2005-06-26  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* db-db.c (ddb_foreach): new function.

2005-06-23  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* r_game.c (r__hashes): don't clear unused hashes.
	* hashes.c (hashes_init): don't clear unused hashes.

2005-06-22  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* parse.c (parse, enter_file_hash): create
	file_by_hash entries in-core and copy to disk at end of parsing.

	* malloc.c (xmemdup): new function.

2005-06-20  Thomas Klausner + Dieter Baron

	* parse.c (enter_file_hash, file_by_hash_add): new functions.
	* parse.c (parse_disk_end, parse_rom_end): write file_by_hash to
	database.

	* dumpgame.c: support /ckmame key

	* configure.ac, Makefile.am: make libckmame convenience library

	* dbl.h: add symbolic constants for DB keys, rename keys; adapt
	users.
	
	* hash_to_string.c (hash_to_string, hash_type_string): convert
	hash value and hash type to strings.
	* util.c (bin2hex): take buffer as argument.

	* r_file_by_hash.c, w_file_by_hash.c, fbh_make_key.c: new
	functions.
	* dumpgame.c: use file_by_hash indices for -c
	
2005-06-17  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* configure.ac: bump version to 0.6.

	* regress/runtest: don't use ``echo -n''.

2005-06-12  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* configure.ac, Makefile.am: link each program only againts the
	libraries it needs.
	
	* configure.ac, md5.c, md5_own.h, sha1.c, sha1_own.h: provide
	replacements for MD5 and SHA1 functions.

	* superfluous.c (docmp): new function.
	* superfluous.c (handle_extra_files): use opendir instead of
	popen("ls").  Thus, sort files manually.

	* mkmamedb-xmame.sh: adapt to removal of -li option from xmame.

2005-06-12  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* db-gdbm.h, db-db.h, dbl.c: move DDB_FILEEXT to dbl.c and make it
	".db" independent of database type (easier to document).

	* ckmame.mdoc: merge documentation from ckmame.texi.

	* mkmamedb.mdoc, mkmamedb.man: add man page.

	* INSTALL, depcomp, install-sh, missing, mkinstalldirs: update
	from automake-1.9.5.

	* config.guess, config.guess, ltmain.sh: update from
	libtool-1.5.18.

	* dumpgame.man, dumpgame.mdoc: add man page.

2004-08-23  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* dumpgame.c: Add -c, -t to find a game by looking for a rom
	checksum.

	* depcomp, install-sh, mkinstalldirs: update from automake-1.9.1.

	* ltmain.sh: update from libtool-1.5.6.

2004-08-04  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* parse-xml.c (parse_xml): add MESS support.

2004-05-16  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* match.c (warn_disk): report disks without any hashes as no good
	dump.
	(diagnostics): treat disks without any hashes as no good dump.

2004-04-28  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* chd-supp.c (read_infos_from_chd): implement integrity checking.
	* chd.c: new file.
	
2004-04-27  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* match.c (match): only accept matches that are ROM_NAMERR or
	better.

2004-04-22  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* some const poisoning.
	
	* mkmamedb.c (main): let no argument mean read from stdin.
	* dbread.c (dbread): if fname is NULL, read from stdin.

2004-04-21  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* r_prog.c (r_prog): make compile.

	* dumpgame.c: allow dumping of /prog and lists.  make local
	functions static, const poisoning.

	* dbread.c (dbread): fix writing of /prog.

	* superfluous.c (handle_extra_files): strip .chd extension from
	file names.

	* util.c (findfile): search for disk images with extension .chd
	and without extension.

2004-04-16  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* zip-supp.c (readinfosfromzip): adapt to zip_open's changed error
	code for non-existing files.

2004-04-14  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* fix.c (fix_add_garbage, fix_file), zip-supp.c (findcrc,
	readinfosfromzip): adapt to libzip API changes.
	
2004-02-26  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* Makefile.am (ckmame_SOURCES): fix typo in filename.
	* superfluous.c: rename from superflouos.c.

	* dbread.c: make some more functions static.

	* Makefile.am: include previous superflouos in ckmame itself.
	* ckmame.c: add -X (ignore extra files in roms/samples dirs).
	(main): handle -X; call handle_extra_files.
	* funcs.h (handle_extra_files): add prototype. Remove variable
	names from prototypes.
	* superflouos.c (handle_extra_files): check for extra files in
	roms or samples respectively dirs. Remove standalone code.
	* ckmame.mdoc: document -X.
	* ckmame.man: regen.

	* dbl.h (DDB_FORMAT_VERSION): bump db version to 3 for new lists.
	* dbread.c (dbread): write lists of samples and extra files (hard
	disk images only, for now) to db.
	(add_extra_list, add_extra_list) : new functions.

	* util.h: add rompath var, and remove variable names from
	prototypes.

	* util.c (findfile): don't init rompath twice.

	* match.c: include string.h for memcmp prototype.

	* configure.ac: AC_PROG_RANLIB unnecessary when using libtool.

	* config.guess, config.sub, ltmain.sh: update from libtool-1.5.2.

2004-02-05  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* util.c (findfile): rename from findzip, allow to find disk
	images; adapt callers.

	* types.h (struct rom, struct disk): add field crctypes.
	* dbl.h: bump database format version
	* w_game.c (w__rom, w__disk): adapt.
	* r_game.c (r__rom, r__disk): adapt.
	* chd-supp.c (readinfosfromchd): fill in crctypes.
	* dbread.c (dbread): fill in crctypes.
	* dumpgame.c (dump_game): use crctypes.
	* util.h: garbage collect IS_NUL.

	* match.c (warn_disk, check_disks, disk_match_free): new
	functions.
	* match.c (diagnostics): analyze disks.
	* treetrav.c (tree_child_traverse): check disks.
	
2004-01-29  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* chd-supp.c (readinfosfromchd): new function.

2004-01-28  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* dbl.c (ddb_error): report version mismatch errors.
	* db-db.c, db-gdbm.c (ddb_error_l): renamed from ddb_error.
	* error.c (myerror): new flag ERRDB for database errors.
	* ckmame.c (main): use ERRDB.
	* mkmamedb.c (main): use ERRDB.

	* db-gdbm.c (ddb_open): don't check version if open failed.
	* db-db.c (ddb_open): don't check version if open failed.

2004-01-28  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* r_game.c (r_game): read disk image info from db.
	(r__disk): new function.
	* w_game.c (w_game): write disk image info to db.
	(w__disk): new function.

	* dumpgame.c (dump_game): print disk image lines.
	* dbread.c (dbread): parse disk image lines.

2004-01-27  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* types.h: add struct disk to struct game, sha1 to struct rom.
	* dbread.c (dbread): parse SHA1 for roms.
	* dumpgame.c (dump_game): print SHA1 for roms.
	* util.c (bin2hex, hex2bin): new functions.
	* dbl.c (ddb_check_version): new function.
	* dbl.h: define database format version.
	* db-db.c, db-gdbm.c (ddb_open): call ddb_check_version.
	* mkmamedb.c (main): initialize db (write format version).
	* r_game.c (r__rom): read SHA1.
	* w_game.c (w__rom): write SHA1.
	* r_util.c (r__mem): new function.
	* w_util.c (w__mem, w_version): new functions.
	
2003-12-30  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* fix.c (fix_game): test correct struct stat field.
	(fix_game): add some '\n' in error messages.

2003-12-28  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* zip-supp.c (readinfosfromzip): bugfix for previous.

	* ckmame.c: sort options alphabetically.

	* config.guess, config.sub, depcomp, install-sh, missing,
	mkinstalldirs: update from automake-1.8.

	* zip-supp.c: make compile with current external libzip.
	* fix.c: make compile with current external libzip.

	* malloc.c (xstrdup): constify.
	* xmalloc.h (xstrdup): constify.

2003-09-13  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* w_game.c (w__rom): write flags to db.

	* types.h: add flags variable to rom structure; define values as
	enum.

	* romutil.c (romcmp): honor flags.

	* r_game.c (r__rom): read in flags from db.

	* match.c (diagnostics): honor flags.

	* dumpgame.c: add strings for flags.
	(dump_game): widen size column and add flags column.

	* dbread.c (dbread): change token parser to be more flexible wrt
	to order of the tokens; recognize flags nodump and baddump.

2003-03-14  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* ckmame.c (main), dumpgame.c (main): don't add extension when
	database file is explicitly given.

2003-02-27  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* romutil.c (rom_add_name): use xrealloc.

2003-02-23  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* error.c (myerror): change error type to flags, adapt callers.
	(seterrinfo): set to default (<unknown>) if name is NULL.
	
	* dbl.c (ddb_lookup, ddb_insert): make key argument a string;
	adapt callers.

	* dbread.c, r_list.c, zip-supp.c: add include files to get
	prototypes of functions defined here.
	* mkmamedb.h: include dbl.h for definition of DB.
	
	* db-gdbm.c (ddb_open), db-db.c (ddb_open): change to take flag
	argument (and adapt callers), use ddb_name to add file name
	extension.
	* db-db.h, db-gdbm.h: rename DDB_EXT to DDB_FILEEXT.
	* db-gdbm.h: move platform dependent extension definition here.

	* r_game.c: include dbh.h to get r_game() prototype.

	* r_game.c (r__rom), w_game.c (w__rom): use variable of correct
	type to minimize casts.

	* ckmame.c, dumpgame.c, mkmamedb.c, superflouos.c: belatedly bump
	copyright date.
	
2003-01-30  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* configure.ac: bump to 0.5.

	* r_util.c (r__ulong): mask off possible higher bits in ulong
	case.

	* ckmame.mdoc: add man page.
	* ckmame.man: generated from ckmame.man.

	* db-db.h: prefer db_185.h to db.h, if found.
	* configure.ac: test for db_185.h.

	* db-db.c,  db-gdbm.c, dbl.c, r_util.c, w_util.c: include <string.h>.
	* libzip/tests/buffadd.c: include <string.h>.
	* libzip/zip_replace_data.c: include <string.h>.

2002-11-15  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* fix.c	(fix_game): Use defined value instead of magic number.

	* COPYING, INSTALL, config.guess, config.sub, configure.in, 
	install-sh, ltcf-c.sh, ltconfig, ltmain.sh, missing,
	mkinstalldirs: Update to autoconf-2.56/automake-1.7.1.

	* depcomp: new file for above.

2001-10-28  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* superflouos.c (main), dumpgame.c (main), ckmame.c (main),
	mkmamedb.c (main): don't initialize optind

2001-10-28  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* dbread.c (dbread): handle names containing white space.
	(gettok): new function.
	
	* dbread.c (dbread): stricter check for crc token.

2001-10-27  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* libzip/zip_replace_zip.c (read_part): fix typo: pass correct
	length to zip_read()

2001-10-27  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* dbread.c (dbread): add support for MESS (recognize "machine")

	* mkmamedb.c (main): sync dbname resolution with ckmame and
	dumpgame

2001-10-20  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* dbl.c (ddb_name): only free() stuff that was allocated
	* mkmamedb.c (main): only free() stuff that was allocated

	* dumpgame.c (main): don't shadow global variable

	* util.h: add prototype for init_rompath()

	* db-gdbm.c (ddb_open): #if -> #ifdef; free() s if allocated

	* libzip/zip_open.c (_zip_readcdir): Work around some broken zip
	files.

2001-08-20  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* dbl.c (ddb_lookup): only free data we allocated

2001-05-16  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* configure.in, ltconfig, ltmain.sh: update libtool, and repair
	libz test for NetBSD-current (no OF macro)
	* ltcf-c.sh: new file for above

2000-11-05  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* libzip/Makefile.am: install public header file

2000-11-04  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* Makefile.am, configure.in, libzip/Makefile.am,
	libzip/tests/Makefile.am: make libzip shared by using libtool
	* config.guess, config.sub, libtool.m4, ltconfig, ltmain.sh: new
	files for above

	* libzip/Makefile.am, zip.h: add zip_get_name
	* libzip/zip_get_name.c: new file

	* libzip/tests/ziptest.c (main): add some '\n'

1999-11-23  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* util.c: (rompath, init_rompath) declared non-static for access
	in superflouos.c
	* superflouos.c: new program

1999-10-06  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* TODO, README.DOS, NEWS: updated

1999-10-05  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* treetrav.c (zfile_new): zfile_new fixed, now returns useful zip
	names, instead of just the name of the game

1999-10-05  Dieter Baron  <dillo@danbala.tuwien.ac.at>

	* treetrav.c (tree_child_traverse): close zip files created in
	fix_do (all_z[0]).

1999-10-05  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* libzip/zip_close.c (zip_close): make zip_close work under DOS,
	free zip structure for temp file

1999-09-27  Thomas Klausner  <wiz@danbala.tuwien.ac.at>

	* romutil.c (romcmp): removed comment for already fixed behaviour

	* w_game.c, w_util.c (w__rom): moved function from w_util.c to
	w_game.c

	* r_game.c, r_util.c (r__rom): moved function from r_util.c to
	r_game.c 

ckmame-0.4: first released version
